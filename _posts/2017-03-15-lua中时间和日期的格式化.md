---
layout: post
title:  Lua格式化时间和日期
date:   2017-03-09 15:28:08 +0800
categories: Lua
comments: false
---

### os.time()

* os.time()没有没有参数时候返回当前时间，单位是秒

* 当参数是一个指定时间表时候，返回的是指定时间的秒数，时间表中key必须是如下值`(前三项是必需的，如果未定义后几项，默认时间为正午（12:00:00）)`：

| key值           |范围
| :-------------: | :-------------: |
| year            | a full year
| month           | 01-12
| day             | 01-31
| hour            | 01-31
| min             | 00-59
| sec             | 00-59
| isdst           | a boolean, true if daylight saving

### os.date()

* os.date([format [, time]])会根据格式化字符串返回表示时间的字符串或者表，如果格式字符串包含`"*t"`则返回表，其他则根据特殊标记返回字符串

* 格式化字符可包含如下标记：

标记 |值范围
----|----------------------------------
%a  |星期的缩写 (e.g., Wed)
%A  |星期的完整名字 (e.g., Wednesday)
%b  |月份缩写 (e.g., Sep)
%B  |完整月份 (e.g., September)
%c  |日期和时间 (e.g., 09/16/98 23:48:10)
%d  |每个月的日 (16) [01-31]
%H  |小时, 24小时格式 (23) [00-23]
%I  |小时, 12小时格式 clock (11) [01-12]
%M  |分 (48) [00-59]
%m  |月 (09) [01-12]
%p  | "am" or "pm" (pm)
%S  |秒 (10) [00-61]
%w  |星期 (3) [0-6 = Sunday-Saturday]
%x  |日期 (e.g., 09/16/98)
%X  |时间 (e.g., 23:48:10)
%Y  |完整年份 (1998)
%y  |2位年份 (98) [00-99]
%%  |转义字符 '%'  

* os.date()如何不传入任何参数，则等效%c的形式输出。%x、%X和%c由所在地区和计算机系统的改变会发生变化

### os.clock()

* os.clock()返回执行该程序CPU花去的时钟秒数,常用来测试一段代码执行时间:

```lua
local s = os.clock()
local ret = 0
for i = 1, 100000 do 
    ret = ret + i * i
end
print("time: ", os.clock() - s)
```

